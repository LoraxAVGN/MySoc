(this["webpackJsonphot-burgers"]=this["webpackJsonphot-burgers"]||[]).push([[0],{38:function(e,t,a){e.exports=a(72)},43:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(30),c=a.n(n),o=a(5),l=a(9),i=a(31),u=a(32),O=a(36),b=a(35);a(43),a(84),a(85),a(86),a(87),a(11),r.a.createContext(null);a(48),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(95),a(49);a(6),a(50),a(96),a(97),a(21);a(52),a(98);a(53);a(54),a(55);a(56);a(57);a(58);a(59);a(60);a(61),a(62);a(63);a(64);a(65),a(66);var g=a(33),f=a.n(g),j=a(34).a.initializeApp({apiKey:"AIzaSyD7Y3vb7mNdWMUZ5OPSKaKoXwos0EMlYSM",authDomain:"very-hot-burgers-c47ca.firebaseapp.com",databaseURL:"https://very-hot-burgers-c47ca-default-rtdb.europe-west1.firebasedatabase.app"}),S=f.a.createClass(j.database()),m=function(e){Object(O.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={allUsers:{}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.ref=S.syncState("MySoc/allUsers",{context:this,state:"allUsers"})}},{key:"componentWillUnmount",value:function(){S.removeBinding(this.ref)}},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this;Object(o.a)(Object(o.a)({},this.state),{},{currentPerson:JSON.parse(localStorage.getItem("currentPerson")),currentUser:JSON.parse(localStorage.getItem("currentUser")),clickRegisterButton:function(t,a,s){var r,n=(new Date).valueOf(),c=(r={userName:t,userEmail:a,userPassword:s,userId:n,posts:[]},Object(l.a)(r,"userName",""),Object(l.a)(r,"status",""),Object(l.a)(r,"city",""),Object(l.a)(r,"country",""),Object(l.a)(r,"relationship",""),Object(l.a)(r,"coverUrl",""),Object(l.a)(r,"icon",""),Object(l.a)(r,"online",!0),Object(l.a)(r,"followers",[]),Object(l.a)(r,"messages",[]),r),i=Object(o.a)({},e.state.allUsers);i[n]=c,e.setState({allUsers:i}),localStorage.setItem("currentPerson",JSON.stringify(Object(o.a)({},c)))},clickLoginButton:function(t,a){var s=e.state.allUsers,r=!0;for(var n in s)if(s[n].userEmail==t&&s[n].userPassword==a){r=!1;var c=Object(o.a)({},s[n]);localStorage.setItem("currentPerson",JSON.stringify(c));var l=Object(o.a)({},e.state.allUsers);l[n].online=!0,l[n].flag=!l[n].flag,e.setState({allUsers:l});break}r&&alert("Email \u0438\u043b\u0438 Password \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e...")},onClickTopbarImg:function(){var t=JSON.parse(localStorage.getItem("currentPerson")).userId;localStorage.setItem("currentPerson",JSON.stringify({}));var a=Object(o.a)({},e.state.allUsers);a[t].online=!1,e.setState({allUsers:a})},onClickShare:function(t,a,s){var r=JSON.parse(localStorage.getItem("currentPerson")).userId,n=new Date,c={comment:0,date:n.getMonth()+1+"."+n.getDate()+"."+n.getFullYear()+" "+n.getHours()+":"+n.getMinutes(),desc:t,id:r,like:0,photo:a,userId:r,location:s,posts:[]},l=e.state.allUsers[r].posts;l?l.unshift(c):l=[c];var i=Object(o.a)({},e.state.allUsers);i[r].posts=l,e.setState({allUsers:i});var u=e.state.allUsers[r];localStorage.setItem("currentPerson",JSON.stringify(u))},onClickDelBut:function(t){var a=JSON.parse(localStorage.getItem("currentPerson")),s=a.userId,r=a.posts;r.splice(t.currentTarget.getAttribute("index"),1);var n=Object(o.a)(Object(o.a)({},a),{},{posts:r});localStorage.setItem("currentPerson",JSON.stringify(n));var c=Object(o.a)(Object(o.a)({},e.state.allUsers[s]),{},{posts:r}),i=Object(o.a)(Object(o.a)({},e.state.allUsers),{},Object(l.a)({},s,c));e.setState({allUsers:i})},onClickLike:function(t,a){var s=JSON.parse(localStorage.getItem("currentPerson")),r=s.userId,n=s.posts;n[t.currentTarget.getAttribute("index")].like=a;var c=Object(o.a)(Object(o.a)({},s),{},{posts:n});localStorage.setItem("currentPerson",JSON.stringify(c));var i=Object(o.a)(Object(o.a)({},e.state.allUsers[r]),{},{posts:n}),u=Object(o.a)(Object(o.a)({},e.state.allUsers),{},Object(l.a)({},r,i));e.setState({allUsers:u})},onClickInputButton:function(t,a){if(t){var s=JSON.parse(localStorage.getItem("currentPerson")),r=s.userId,n=Object(o.a)(Object(o.a)({},s),{},Object(l.a)({},a,t));localStorage.setItem("currentPerson",JSON.stringify(n));var c=Object(o.a)(Object(o.a)({},e.state.allUsers[r]),{},Object(l.a)({},a,t)),i=Object(o.a)(Object(o.a)({},e.state.allUsers),{},Object(l.a)({},r,c));e.setState({allUsers:i})}},onClickUser:function(t){var a=Object(o.a)({},e.state.allUsers[t]);localStorage.setItem("currentUser",JSON.stringify(a));var s=JSON.parse(localStorage.getItem("currentPerson")).userId,r=e.state.allUsers[s].flag,n=Object(o.a)(Object(o.a)({},e.state.allUsers[s]),{},{flag:!r}),c=Object(o.a)(Object(o.a)({},e.state.allUsers),{},Object(l.a)({},s,n));e.setState({allUsers:c})},followOnUser:function(){var t=JSON.parse(localStorage.getItem("currentUser")).userId,a=JSON.parse(localStorage.getItem("currentPerson")).userId,s=e.state.allUsers[a].followers;(s=s||[]).includes(t)?s.splice(s.indexOf(t),1):s.unshift(t);var r=Object(o.a)(Object(o.a)({},e.state.allUsers[a]),{},{followers:s}),n=Object(o.a)(Object(o.a)({},e.state.allUsers),{},Object(l.a)({},a,r));localStorage.setItem("currentPerson",JSON.stringify(r)),e.setState({allUsers:n})},onSendClick:function(t,a){var s,r=JSON.parse(localStorage.getItem("currentPerson")).userId,n={true:a},c={false:a},i=Object(o.a)({},e.state.allUsers),u=i[r].messages&&i[r].messages[t]?i[r].messages[t]:[],O=i[t].messages&&i[t].messages[r]?i[t].messages[r]:[];u.push(n),O.push(c);var b=Object(l.a)({},t,u),g=Object(l.a)({},r,O),f=Object(o.a)(Object(o.a)({},i[r]),{},{messages:b}),j=Object(o.a)(Object(o.a)({},i[t]),{},{messages:g}),S=Object(o.a)(Object(o.a)({},i),{},(s={},Object(l.a)(s,r,f),Object(l.a)(s,t,j),s));localStorage.setItem("currentPerson",JSON.stringify(f)),localStorage.setItem("currentUser",JSON.stringify(j)),e.setState({allUsers:S})}});return r.a.createElement(r.a.Fragment,null,"Hello")}}]),a}(r.a.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1a06a244.chunk.js.map